<odoo>
  <!-- ========================== -->
  <!-- Hall Amenities             -->
  <!-- ========================== -->
  <record id="view_hotel_event_amenity_list" model="ir.ui.view">
    <field name="name">hotel.event.amenity.list</field>
    <field name="model">hotel.event.amenity</field>
    <field name="arch" type="xml">
      <list>
        <field name="name"/>
        <field name="description"/>
      </list>
    </field>
  </record>

  <record id="view_hotel_event_amenity_form" model="ir.ui.view">
    <field name="name">hotel.event.amenity.form</field>
    <field name="model">hotel.event.amenity</field>
    <field name="arch" type="xml">
      <form>
        <sheet>
          <group>
            <field name="name"/>
            <field name="description"/>
          </group>
        </sheet>
      </form>
    </field>
  </record>

  <record id="action_hotel_event_amenity" model="ir.actions.act_window">
    <field name="name">Hall Amenities</field>
    <field name="res_model">hotel.event.amenity</field>
    <field name="view_mode">list,form</field>
  </record>

  <!-- ========================== -->
  <!-- Hall Types                 -->
  <!-- ========================== -->
  <record id="view_hotel_event_hall_type_list" model="ir.ui.view">
    <field name="name">hotel.event.hall.type.list</field>
    <field name="model">hotel.event.hall.type</field>
    <field name="arch" type="xml">
      <list>
        <field name="name"/>
        <field name="capacity"/>
        <field name="price_per_hour"/>
      </list>
    </field>
  </record>

  <record id="view_hotel_event_hall_type_form" model="ir.ui.view">
    <field name="name">hotel.event.hall.type.form</field>
    <field name="model">hotel.event.hall.type</field>
    <field name="arch" type="xml">
      <form>
        <sheet>
          <group>
            <field name="name"/>
            <field name="capacity"/>
          </group>
          <group>
            <field name="price_per_hour"/>
            <field name="currency_id"/>
          </group>
        </sheet>
      </form>
    </field>
  </record>

  <record id="action_hotel_event_hall_type" model="ir.actions.act_window">
    <field name="name">Hall Types</field>
    <field name="res_model">hotel.event.hall.type</field>
    <field name="view_mode">list,form</field>
  </record>

  <!-- ========================== -->
  <!-- Event Halls                -->
  <!-- ========================== -->
  <record id="view_hotel_event_hall_list" model="ir.ui.view">
    <field name="name">hotel.event.hall.list</field>
    <field name="model">hotel.event.hall</field>
    <field name="arch" type="xml">
      <list>
        <field name="name"/>
        <field name="company_id"/>
        <field name="hall_type_id"/>
        <field name="capacity"/>
        <field name="price_per_hour"/>
      </list>
    </field>
  </record>

  <record id="view_hotel_event_hall_form" model="ir.ui.view">
    <field name="name">hotel.event.hall.form</field>
    <field name="model">hotel.event.hall</field>
    <field name="arch" type="xml">
      <form>
        <sheet>
          <group>
            <field name="name"/>
            <field name="company_id"/>
            <field name="hall_type_id"/>
          </group>
          <group>
            <field name="capacity"/>
            <field name="price_per_hour"/>
            <field name="currency_id"/>
          </group>
          <group>
            <field name="amenities_ids" widget="many2many_tags"/>
          </group>
        </sheet>
      </form>
    </field>
  </record>

  <record id="action_hotel_event_hall" model="ir.actions.act_window">
    <field name="name">Event Halls</field>
    <field name="res_model">hotel.event.hall</field>
    <field name="view_mode">list,form</field>
  </record>

  <!-- ========================== -->
  <!-- Event Packages             -->
  <!-- ========================== -->
  <record id="view_hotel_event_package_list" model="ir.ui.view">
    <field name="name">hotel.event.package.list</field>
    <field name="model">hotel.event.package</field>
    <field name="arch" type="xml">
      <list>
        <field name="name"/>
        <field name="price"/>
      </list>
    </field>
  </record>

  <record id="view_hotel_event_package_form" model="ir.ui.view">
    <field name="name">hotel.event.package.form</field>
    <field name="model">hotel.event.package</field>
    <field name="arch" type="xml">
      <form>
        <sheet>
          <group>
            <field name="name"/>
            <field name="description"/>
          </group>
          <group>
            <field name="price"/>
            <field name="currency_id"/>
          </group>
          <group>
            <field name="services_ids" widget="many2many_tags"/>
          </group>
        </sheet>
      </form>
    </field>
  </record>

  <record id="action_hotel_event_package" model="ir.actions.act_window">
    <field name="name">Event Packages</field>
    <field name="res_model">hotel.event.package</field>
    <field name="view_mode">list,form</field>
  </record>

  <!-- ========================== -->
  <!-- Event Bookings             -->
  <!-- ========================== -->
  <record id="view_hotel_event_booking_list" model="ir.ui.view">
    <field name="name">hotel.event.booking.list</field>
    <field name="model">hotel.event.booking</field>
    <field name="arch" type="xml">
      <list>
        <field name="customer_id"/>
        <field name="hall_id"/>
        <field name="company_id"/>
        <field name="event_date"/>
        <field name="duration_hours"/>
        <field name="package_id"/>
        <field name="deposit_amount"/>
        <field name="total_amount"/>
        <field name="status"/>
        <field name="activity_state" widget="activity_state" optional="show"/>
        <field name="activity_ids" invisible="1"/>

      </list>
    </field>
  </record>

  <record id="view_hotel_event_booking_form" model="ir.ui.view">
    <field name="name">hotel.event.booking.form</field>
    <field name="model">hotel.event.booking</field>
    <field name="arch" type="xml">
      <form>
      <header>
          <button name="action_create_invoice"
                  type="object"
                  string="Create Invoice"
                  class="oe_highlight"
                  invisible="status in ['cancelled'] or not customer_id"/>
          <button name="action_view_invoices"
                  type="object"
                  string="Invoices"
                  invisible="invoice_count == 0"/>
        </header>

        <div class="oe_button_box" name="button_box">
          <button class="oe_stat_button" type="object" name="action_view_invoices"
                  invisible="invoice_count == 0">
            <field name="invoice_count" widget="statinfo" string="Invoices"/>
          </button>
        </div>
        <sheet>
          <group>
            <field name="customer_id"/>
          </group>
          <group>
          <field name="hall_id"/>
          <field name="company_id"/>
          </group>
          <group>
            <field name="event_date"/>
            <field name="duration_hours"/>
          </group>
          <group>
            <field name="package_id"/>
          </group>
          <group>
            <field name="deposit_amount"/>
            <field name="total_amount"/>
            <field name="currency_id" groups="base.group_no_one"/>
          </group>
          <group>
            <field name="status"/>
          </group>
           <notebook>
            <page string="Invoices">
              <field name="invoice_ids" readonly="1"
                     context="{
                       'default_move_type': 'out_invoice',
                       'default_partner_id': customer_id,
                       'default_hotel_event_booking_id': id,
                       'default_invoice_origin': name
                     }">
                <list>
                  <field name="name"/>
                  <field name="payment_state"/>
                  <field name="amount_total"/>
                  <field name="invoice_date"/>
                </list>
              </field>
            </page>
          </notebook>
        </sheet>
          <chatter>
            <field name="message_follower_ids" widget="mail_followers"/>
            <field name="activity_ids" widget="mail_activity"/>
           <field name="message_ids" widget="mail_thread"/>
          </chatter>
      </form>
    </field>
  </record>

<record id="view_hotel_event_booking_search" model="ir.ui.view">
  <field name="name">hotel.event.booking.search</field>
  <field name="model">hotel.event.booking</field>
  <field name="arch" type="xml">
    <search string="Search Event Bookings">
      <!-- searchable fields -->
      <field name="customer_id"/>
      <field name="hall_id"/>
      <field name="company_id"/>
      <field name="event_date"/>

      <!-- status filters -->
      <filter name="st_draft" string="Draft" domain="[('status','=','draft')]"/>
      <filter name="st_confirmed" string="Confirmed" domain="[('status','=','confirmed')]"/>
      <filter name="st_done" string="Done" domain="[('status','=','done')]"/>
      <filter name="st_cancelled" string="Cancelled" domain="[('status','=','cancelled')]"/>
      <separator/>

      <!-- package or amounts -->
      <filter name="has_package" string="With Package" domain="[('package_id','!=',False)]"/>
      <separator/>

      <!-- activities -->
      <filter name="my_activities" string="My Activities" domain="[('activity_user_id','=',uid)]"/>
      <separator/>
      <filter name="act_overdue" string="Overdue" domain="[('activity_state','=','overdue')]"/>
      <filter name="act_today" string="Today" domain="[('activity_state','=','today')]"/>
      <filter name="act_planned" string="Planned" domain="[('activity_state','=','planned')]"/>

      <!-- group by -->
      <group expand="0" string="Group By">
        <filter name="grp_customer" string="Customer" context="{'group_by':'customer_id'}"/>
        <filter name="grp_hall" string="Hall" context="{'group_by':'hall_id'}"/>
        <filter name="grp_company" string="Branch" context="{'group_by':'company_id'}"/>
        <filter name="grp_status" string="Status" context="{'group_by':'status'}"/>
        <filter name="grp_date" string="Event Date" context="{'group_by':'event_date'}"/>
        <filter name="grp_package" string="Package" context="{'group_by':'package_id'}"/>
      </group>
    </search>
  </field>
</record>

  <record id="action_hotel_event_booking" model="ir.actions.act_window">
    <field name="name">Event Bookings</field>
    <field name="res_model">hotel.event.booking</field>
    <field name="view_mode">list,form</field>
  </record>
</odoo>
