<odoo>
  <record id="view_hotel_maintenance_task_list" model="ir.ui.view">
    <field name="name">hotel.maintenance.task.list</field>
    <field name="model">hotel.maintenance.task</field>
    <field name="arch" type="xml">
      <list>
        <field name="name"/>
        <field name="room_id"/>
        <field name="task_type"/>
        <field name="source"/>
        <field name="status"/>
        <field name="date_scheduled"/>
        <field name="duration_hours"/>
        <field name="assigned_user_id"/>
        <field name="priority"/>
        <field name="activity_state" widget="activity_state" optional="show"/>
        <field name="activity_ids" invisible="1"/>
      </list>
    </field>
  </record>

  <record id="view_hotel_maintenance_task_form" model="ir.ui.view">
    <field name="name">hotel.maintenance.task.form</field>
    <field name="model">hotel.maintenance.task</field>
    <field name="arch" type="xml">
      <form string="Maintenance Task">
        <sheet>
          <group>
            <field name="name"/>
            <field name="room_id" domain="[('company_id','in', allowed_company_ids)]"/>
            <field name="company_id" readonly="1"/>
          </group>
          <group>
            <field name="task_type"/>
            <field name="source"/>
            <field name="status"/>
            <field name="priority"/>
          </group>
          <group string="Scheduling">
            <field name="date_reported" readonly="1"/>
            <field name="date_scheduled"/>
            <field name="duration_hours"/>
            <field name="assigned_user_id"/>
          </group>
          <group string="Links">
            <field name="housekeeping_task_id" readonly="1"/>
          </group>
          <notebook>
            <page string="Description">
              <field name="description" nolabel="1"/>
            </page>
          </notebook>
        </sheet>
          <chatter>
            <field name="message_follower_ids" widget="mail_followers"/>
            <field name="activity_ids" widget="mail_activity"/>
           <field name="message_ids" widget="mail_thread"/>
          </chatter>
      </form>
    </field>
  </record>

  <record id="view_hotel_maintenance_task_search" model="ir.ui.view">
    <field name="name">hotel.maintenance.task.search</field>
    <field name="model">hotel.maintenance.task</field>
    <field name="arch" type="xml">
      <search string="Search Maintenance">
        <field name="name"/>
        <field name="room_id"/>
        <filter name="status_pending" string="Pending" domain="[('status','=','pending')]"/>
        <filter name="status_in_progress" string="In Progress" domain="[('status','=','in_progress')]"/>
        <filter name="status_done" string="Done" domain="[('status','=','done')]"/>
        <separator/>
        <filter name="type_inspection" string="Inspections" domain="[('task_type','=','inspection')]"/>
        <filter name="type_repair" string="Repairs" domain="[('task_type','=','repair')]"/>
        <separator/>
        <filter name="my_activities" string="My Activities" domain="[('activity_user_id','=',uid)]"/>
        <separator/>
        <filter name="act_overdue" string="Overdue" domain="[('activity_state', '=', 'overdue')]"/>
        <filter name="act_today" string="Today" domain="[('activity_state', '=', 'today')]"/>
        <filter name="act_planned" string="Planned" domain="[('activity_state', '=', 'planned')]"/>

        <group expand="0" string="Group By">
          <filter name="grp_room" string="Room" context="{'group_by':'room_id'}"/>
          <filter name="grp_status" string="Status" context="{'group_by':'status'}"/>
          <filter name="grp_type" string="Type" context="{'group_by':'task_type'}"/>
        </group>
      </search>
    </field>
  </record>

  <record id="action_hotel_maintenance_task" model="ir.actions.act_window">
    <field name="name">Maintenance Tasks</field>
    <field name="res_model">hotel.maintenance.task</field>
    <field name="view_mode">list,form</field>
    <field name="context">{'search_default_status_pending': 1}</field>
  </record>

  
</odoo>
